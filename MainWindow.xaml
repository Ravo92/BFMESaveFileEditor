<Window x:Class="BFMESaveFileEditor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="BFME2 Savegame Editor"
        Width="1200" Height="800">

    <DockPanel>

        <ToolBar DockPanel.Dock="Top">
            <Button Content="Open" Command="{Binding OpenCommand}" />
            <Button Content="Save As" Command="{Binding SaveAsCommand}" Margin="8,0,0,0" />
            <Separator/>
            <Button Content="Apply Edit" Command="{Binding ApplyEditCommand}" />
            <Separator/>
            <TextBlock Text="{Binding Status}" Margin="8,0,0,0" />
        </ToolBar>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="320"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="460"/>
            </Grid.ColumnDefinitions>

            <!-- Chunk list -->
            <GroupBox Header="Chunks" Grid.Column="0" Grid.Row="0" Grid.RowSpan="2" Margin="8">
                <ListBox ItemsSource="{Binding Chunks}"
                         SelectedItem="{Binding SelectedChunk}"
                         DisplayMemberPath="DisplayName"/>
            </GroupBox>

            <!-- Entries table -->
            <GroupBox Header="Entries" Grid.Column="1" Grid.Row="0" Margin="8">
                <DataGrid ItemsSource="{Binding SelectedChunkEntries}"
                      SelectedItem="{Binding SelectedEntry}"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      CanUserAddRows="False"
                      CanUserDeleteRows="False"
                      CanUserReorderColumns="False"
                      SelectionUnit="FullRow">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Hero" Binding="{Binding DisplayValue}" Width="*"/>
                        <DataGridTextColumn Header="Offset" Binding="{Binding Offset}" Width="90"/>
                    </DataGrid.Columns>
                </DataGrid>
            </GroupBox>

            <!-- Details / editor -->
            <GroupBox Header="Properties / Upgrades" Grid.Column="2" Grid.Row="0" Margin="8">
                <DataGrid ItemsSource="{Binding SelectedEntryProperties}"
                          AutoGenerateColumns="False"
                          IsReadOnly="False"
                          CanUserAddRows="False"
                          CanUserDeleteRows="False">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Type" Binding="{Binding Label}" Width="100" IsReadOnly="True"/>
                        <DataGridTextColumn Header="Value" Binding="{Binding DisplayValue, UpdateSourceTrigger=PropertyChanged}" Width="*" IsReadOnly="False"/>
                    </DataGrid.Columns>
                </DataGrid>
            </GroupBox>

        </Grid>
    </DockPanel>
</Window>